# üöÄ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Cloudflare Tunnel Service (‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢)

## üìã ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ (3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÜ)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≤‡∏Å Dashboard ‚úÖ

1. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Dashboard** ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏¢‡∏π‡πà
2. **‡∏î‡∏π code block** ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `cloudflared.exe service install eyJhIjoiZj...`
3. **‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° Copy** (‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô Copy ‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
4. **‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô** (‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3)

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏õ‡∏¥‡∏î PowerShell ‡πÅ‡∏ö‡∏ö Administrator üîë

1. **‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Windows + X** (‡∏ö‡∏ô‡πÅ‡∏õ‡πâ‡∏ô‡∏û‡∏¥‡∏°‡∏û‡πå)
2. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Windows PowerShell (Admin)"** ‡∏´‡∏£‡∏∑‡∏≠ **"Terminal (Admin)"**
   - ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô "User Account Control" ‡πÉ‡∏´‡πâ‡∏Å‡∏î **"Yes"**
3. **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå** ‡πÇ‡∏î‡∏¢‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Enter:
   ```powershell
   cd "C:\Users\jay_rpn\Documents\Project Big\Project Pos Chat\line chat"
   ```

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ß‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á üéØ

1. **‡∏ß‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á** ‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏ß‡πâ (‡∏Å‡∏î **Ctrl + V**)
2. **‡∏Å‡∏î Enter**
3. **‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà** ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤ "Service installed successfully"
4. **‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!** ‚úÖ

---

## üéâ ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Service ‡πÅ‡∏•‡πâ‡∏ß

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Service ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏ô PowerShell:
```powershell
Get-Service cloudflared
```

‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô **Status = Running** ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß! ‚úÖ

---

### ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Public Hostname ‡πÉ‡∏ô Dashboard

‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà Cloudflare Dashboard ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL:

1. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà Dashboard** ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà
2. **‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏ó‡πá‡∏ö "Public Hostnames"** ‡∏´‡∏£‡∏∑‡∏≠ **"Hostname routes"**
3. **‡∏Ñ‡∏•‡∏¥‡∏Å "Add a public hostname"**
4. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Backend (port 3000):**
   - **Hostname**: `line-chat-backend-12345.trycloudflare.com`
     - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `12345` ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (‡πÄ‡∏ä‡πà‡∏ô `12345`, `99999`, `abcde`)
   - **Service**: `http://localhost:3000`
   - **‡∏Ñ‡∏•‡∏¥‡∏Å "Save"** ‡∏´‡∏£‡∏∑‡∏≠ **"Add hostname"**

5. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Frontend (port 8085):**
   - **‡∏Ñ‡∏•‡∏¥‡∏Å "Add a public hostname"** ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
   - **Hostname**: `line-chat-frontend-12345.trycloudflare.com`
     - ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Backend ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ
   - **Service**: `http://localhost:8085`
   - **‡∏Ñ‡∏•‡∏¥‡∏Å "Save"** ‡∏´‡∏£‡∏∑‡∏≠ **"Add hostname"**

6. **‡∏à‡∏î URL ‡∏ó‡∏±‡πâ‡∏á 2 ‡πÑ‡∏ß‡πâ:**
   - ‚úÖ Backend URL: `https://line-chat-backend-12345.trycloudflare.com`
   - ‚úÖ Frontend URL: `https://line-chat-frontend-12345.trycloudflare.com`

---

## üìù ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ

### 1. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå Config

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `cloudflare-tunnel-config.yml` ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç hostname ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô Dashboard:

```yaml
tunnel: ea4f26bd-8e88-4941-bc4d-2bf4a47e3abd
credentials-file: C:\Users\jay_rpn\.cloudflared\ea4f26bd-8e88-4941-bc4d-2bf4a47e3abd.json

ingress:
  # Backend (port 3000)
  - hostname: line-chat-backend-12345.trycloudflare.com  # ‚Üê ‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô URL ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô Dashboard
    service: http://localhost:3000
  # Frontend (port 8085)
  - hostname: line-chat-frontend-12345.trycloudflare.com  # ‚Üê ‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô URL ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô Dashboard
    service: http://localhost:8085
  # Catch-all
  - service: http_status:404
```

### 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Frontend (.env)

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå root (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ):

```
VITE_API_URL=https://line-chat-backend-12345.trycloudflare.com
```

(‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `12345` ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Backend URL ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ)

### 3. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

**‡∏£‡∏±‡∏ô Backend ‡πÅ‡∏•‡∏∞ Frontend:**
```bash
# Terminal 1: Backend
cd line-webhook
npm start

# Terminal 2: Frontend  
npm run dev
```

**‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå:**
- ‡∏î‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏•‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏ü‡∏•‡πå `START_PERMANENT.bat`

---

## üÜò ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Access is denied" ‚ùå

**Error ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô:**
```
Cannot establish a connection to the service control manager: Access is denied.
```

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î PowerShell **‡πÅ‡∏ö‡∏ö Administrator** 

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
1. **‡∏õ‡∏¥‡∏î PowerShell ‡πÄ‡∏Å‡πà‡∏≤**
2. **‡∏Å‡∏î Windows + X** ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"Windows PowerShell (Admin)"**
3. **‡∏Ñ‡∏•‡∏¥‡∏Å "Yes"** ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏´‡πá‡∏ô User Account Control
4. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Admin** - ‡∏î‡∏π‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÅ‡∏£‡∏Å‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô `PS C:\WINDOWS\system32>`
5. **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå:**
   ```powershell
   cd "C:\Users\jay_rpn\Documents\Project Big\Project Pos Chat\line chat"
   ```
6. **‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á** (‡∏î‡∏π‡πÑ‡∏ü‡∏•‡πå FIX_ACCESS_DENIED.md ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Service already exists"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** Service ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Service ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:
```powershell
Get-Service cloudflared
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Service ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡πÄ‡∏£‡∏¥‡πà‡∏° Service ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:
```powershell
Start-Service cloudflared
```

---

## ‚úÖ Checklist

- [ ] ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≤‡∏Å Dashboard
- [ ] ‡πÄ‡∏õ‡∏¥‡∏î PowerShell ‡πÅ‡∏ö‡∏ö Administrator
- [ ] ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
- [ ] ‡∏ß‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á install
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Service ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Public Hostname ‡πÉ‡∏ô Dashboard (Backend)
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Public Hostname ‡πÉ‡∏ô Dashboard (Frontend)
- [ ] ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå cloudflare-tunnel-config.yml
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ .env ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Frontend
- [ ] ‡πÄ‡∏£‡∏¥‡πà‡∏° Backend ‡πÅ‡∏•‡∏∞ Frontend

---

<div align="center">
‚úÖ **‡∏ó‡∏≥‡∏ï‡∏≤‡∏° 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏™‡∏£‡πá‡∏à!** üéâ
</div>

