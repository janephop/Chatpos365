# üîß ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Tunnel is not locally managed

## ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ó‡∏≥ Migration ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏à‡∏≠ error:
```
Bad Configuration: tunnel is not locally managed
```

---

## ‚úÖ ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏

**Tunnel ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô Managed Tunnel** (‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢ `cloudflared.exe service install`)
- ‚úÖ Service ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà (Status = HEALTHY)
- ‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥ Migration ‡πÑ‡∏î‡πâ (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô managed tunnel)

**‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤:**
- Tunnel ‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡∏¢ Cloudflare Dashboard ‡πÅ‡∏•‡πâ‡∏ß
- ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes/Hostnames ‡∏ú‡πà‡∏≤‡∏ô Dashboard ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå config ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏±‡∏ô tunnel ‡πÅ‡∏ö‡∏ö manual

---

## üéØ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes ‡∏ú‡πà‡∏≤‡∏ô Dashboard

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ URL ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

**‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Routes ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ URL ‡∏ô‡∏µ‡πâ:**
```
https://one.dash.cloudflare.com/f0ba9c6582ac2ca4580daf1c665ecc55/networks/connectors/cloudflare-tunnels/ea4f26bd-8e88-4941-bc4d-2bf4a47e3abd/routes
```

**‡∏´‡∏£‡∏∑‡∏≠:**
```
https://one.dash.cloudflare.com/f0ba9c6582ac2ca4580daf1c665ecc55/networks/connectors/cloudflare-tunnels/ea4f26bd-8e88-4941-bc4d-2bf4a47e3abd
```
‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏≤‡πÅ‡∏ó‡πá‡∏ö "Routes" ‡∏´‡∏£‡∏∑‡∏≠ "Public Hostnames"

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Connectors ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏•‡∏¥‡∏Å tunnel

1. **‡∏Ñ‡∏•‡∏¥‡∏Å "‚Üê Back to tunnels"** ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Connectors

2. **‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠ tunnel "line-chat"** (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô)

3. **‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô:**
   - "Overview"
   - **"Routes"** ‚Üê **‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏ó‡πá‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£!** ‚≠ê
   - "Public Hostnames" (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
   - "Settings"

4. **‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏ó‡πá‡∏ö "Routes"**

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏û‡∏¥‡πà‡∏° Route

**‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ó‡πá‡∏ö Routes ‡πÅ‡∏•‡πâ‡∏ß:**

1. **‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°**: **"Add a route"** ‡∏´‡∏£‡∏∑‡∏≠ **"Create a new hostname route"**

2. **‡∏Å‡∏£‡∏≠‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°:**

   **Hostname (Required):**
   ```
   line-chat-backend-12345.trycloudflare.com
   ```
   - **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ `.trycloudflare.com` ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
   - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `12345` ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

   **Service ‡∏´‡∏£‡∏∑‡∏≠ Service URL:**
   ```
   http://localhost:3000
   ```
   - **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ `http://` ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤

   **Description (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ):**
   ```
   Backend API
   ```

3. **‡∏Ñ‡∏•‡∏¥‡∏Å**: **"Create"** ‡∏´‡∏£‡∏∑‡∏≠ **"Save"**

4. **‡∏ó‡∏≥‡∏ã‡πâ‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Frontend:**
   - Hostname: `line-chat-frontend-12345.trycloudflare.com`
   - Service: `http://localhost:8085`

---

## üîÑ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå Config (‡∏ñ‡πâ‡∏≤ Dashboard ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)

**‡∏ñ‡πâ‡∏≤‡∏´‡∏≤ Routes ‡πÉ‡∏ô Dashboard ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠:**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏´‡∏¢‡∏∏‡∏î Managed Service

**‡πÉ‡∏ô PowerShell ‡πÅ‡∏ö‡∏ö Administrator:**
```powershell
Stop-Service Cloudflared
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏£‡∏±‡∏ô Tunnel ‡πÅ‡∏ö‡∏ö Manual

**‡πÉ‡∏ô PowerShell:**
```powershell
cd "C:\Users\jay_rpn\Documents\Project Big\Project Pos Chat\line chat"
cloudflared.exe tunnel run line-chat --config cloudflare-tunnel-config.yml
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:**
- Tunnel ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö manual (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà service)
- ‡πÉ‡∏ä‡πâ config ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå `cloudflare-tunnel-config.yml`
- Hostname ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏£‡∏¥‡πà‡∏° Service ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)

**‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ Service ‡∏£‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:**
- ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes ‡πÉ‡∏ô Dashboard ‡∏Å‡πà‡∏≠‡∏ô
- ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ manual (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á service)

---

## ‚úÖ ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:**
1. **‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Connectors**
2. **‡∏î‡∏π‡∏ó‡∏µ‡πà‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå "Routes"** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö tunnel "line-chat"
   - ‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô **`2`** ‡πÅ‡∏ó‡∏ô `--` ‚úÖ

**URLs ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:**
- ‚úÖ Backend URL: `https://line-chat-backend-12345.trycloudflare.com`
- ‚úÖ Frontend URL: `https://line-chat-frontend-12345.trycloudflare.com`

---

## üÜò ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏´‡∏≤ Routes ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠

**‡∏•‡∏≠‡∏á:**
1. **‡πÉ‡∏ä‡πâ URL ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á** (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1)
2. **‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤** (F5)
3. **‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2** (‡πÑ‡∏ü‡∏•‡πå config + manual)

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Routes ‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô "--"

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:**
1. Routes ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
2. ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Service ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà

---

## üí° ‡∏Ç‡πâ‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

**‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Managed Tunnel:**
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes ‡∏ú‡πà‡∏≤‡∏ô Dashboard (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1)
- ‚úÖ Service ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
- ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ Migration

**‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Manual Tunnel:**
- ‚úÖ ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå config
- ‚úÖ ‡∏£‡∏±‡∏ô tunnel ‡πÅ‡∏ö‡∏ö manual
- ‚úÖ Hostname ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

<div align="center">
‚úÖ **Managed Tunnel = ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Routes ‡∏ú‡πà‡∏≤‡∏ô Dashboard ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á!** üöÄ

‚ùå **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ Migration!**
</div>

