# ‚ö° ‡∏ß‡∏¥‡∏ò‡∏µ‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÄ‡∏û‡∏¥‡πà‡∏° Routes (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤‡πÉ‡∏ô Dashboard!)

## ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Network Routes ‡πÅ‡∏ó‡∏ô Hostname Routes

‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ "Create new route" ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Network Routes (CIDR/IP) ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Hostname Routes ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå Config + Migration

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå Config

1. **‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå** `cloudflare-tunnel-config.yml` (‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå)

2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ hostname ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á:**
   - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2
   - ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏≤‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á

3. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç hostname** (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤):

   ```yaml
   tunnel: ea4f26bd-8e88-4941-bc4d-2bf4a47e3abd
   credentials-file: C:\Users\jay_rpn\.cloudflared\ea4f26bd-8e88-4941-bc4d-2bf4a47e3abd.json

   ingress:
     # Backend (port 3000)
     - hostname: line-chat-backend-12345.trycloudflare.com
       service: http://localhost:3000
     # Frontend (port 8085)
     - hostname: line-chat-frontend-12345.trycloudflare.com
       service: http://localhost:8085
     # Catch-all (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÄ‡∏™‡∏°‡∏≠)
     - service: http_status:404
   ```

   **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `12345` ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£** (‡πÄ‡∏ä‡πà‡∏ô: `12345`, `99999`, `2024`)

4. **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå** (Ctrl + S)

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏≥ Migration (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)

**Migration ‡∏à‡∏∞ sync hostname ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå config ‡πÑ‡∏õ Dashboard ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥**

1. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Migration ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ URL ‡∏ô‡∏µ‡πâ:**
   ```
   https://one.dash.cloudflare.com/f0ba9c6582ac2ca4580daf1c665ecc55/networks/connectors/cloudflare-tunnels/ea4f26bd-8e88-4941-bc4d-2bf4a47e3abd/migrate
   ```

   **‡∏´‡∏£‡∏∑‡∏≠:**
   - ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Connectors
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠ tunnel "line-chat"
   - ‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å "Migrate" ‡∏´‡∏£‡∏∑‡∏≠ "Migration"

2. **‡∏Ñ‡∏•‡∏¥‡∏Å**: **"Start migration"** (‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏µ‡∏ü‡πâ‡∏≤)

3. **‡∏ó‡∏≥‡∏ï‡∏≤‡∏° Wizard:**

   **Step 1: Check tunnel name and connectors**
   - Tunnel name: `line-chat`
   - Connectors: ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô "None" ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ ID
   - **‡∏Ñ‡∏•‡∏¥‡∏Å**: **"Confirm"** ‡∏´‡∏£‡∏∑‡∏≠ **"Next"**

   **Step 2: Preview origin configurations**
   - ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô hostname ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå config:
     - `line-chat-backend-12345.trycloudflare.com` ‚Üí `http://localhost:3000`
     - `line-chat-frontend-12345.trycloudflare.com` ‚Üí `http://localhost:8085`
   - **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö** ‡∏ß‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
   - **‡∏Ñ‡∏•‡∏¥‡∏Å**: **"Next"** ‡∏´‡∏£‡∏∑‡∏≠ **"Confirm"**

   **Step 3: Preview private networks**
   - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ private networks ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ
   - **‡∏Ñ‡∏•‡∏¥‡∏Å**: **"Next"**

   **Step 4: Finalize migration**
   - **‡∏Ñ‡∏•‡∏¥‡∏Å**: **"Finalize migration"** ‡∏´‡∏£‡∏∑‡∏≠ **"Complete"**

4. **‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!** ‚úÖ

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Routes

**‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å Migration ‡πÄ‡∏™‡∏£‡πá‡∏à:**

1. **‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Connectors:**
   ```
   https://one.dash.cloudflare.com/f0ba9c6582ac2ca4580daf1c665ecc55/networks/connectors
   ```

2. **‡∏î‡∏π‡∏ó‡∏µ‡πà‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå "Routes"** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö tunnel "line-chat"
   - ‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô **`2`** ‡πÅ‡∏ó‡∏ô `--` ‚úÖ

3. **‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠ tunnel "line-chat"** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

---

## ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!

**‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ:**
- ‚úÖ Routes ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß (2 routes)
- ‚úÖ Backend URL: `https://line-chat-backend-12345.trycloudflare.com`
- ‚úÖ Frontend URL: `https://line-chat-frontend-12345.trycloudflare.com`
- ‚úÖ URL ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏≤‡∏ß‡∏£ - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô webhook!

---

## üöÄ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ

### 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Frontend (.env)

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå root:

```
VITE_API_URL=https://line-chat-backend-12345.trycloudflare.com
```

(‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `12345` ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö hostname ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ)

### 2. ‡πÄ‡∏£‡∏¥‡πà‡∏° Backend ‡πÅ‡∏•‡∏∞ Frontend

```bash
# ‡πÉ‡∏ä‡πâ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
START_PERMANENT.bat

# ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏±‡∏ô‡πÄ‡∏≠‡∏á
cd line-webhook && npm start  # Terminal 1
npm run dev                    # Terminal 2
```

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LINE Webhook

- URL: `https://line-chat-backend-12345.trycloudflare.com/webhook/line`

---

## üí° ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏ô‡∏µ‡πâ

- ‚úÖ **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤ Public Hostnames ‡πÉ‡∏ô Dashboard** - ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå config ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
- ‚úÖ **‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤** - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡πâ‡∏ß Migration ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- ‚úÖ **‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô** - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ô Dashboard
- ‚úÖ **URL ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏≤‡∏ß‡∏£** - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô webhook

---

## üÜò ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Migration ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Tunnel ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà (Status = HEALTHY)
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå config ‡∏ß‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
3. ‡∏•‡∏≠‡∏á Migration ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Routes ‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô "--"

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà (‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á refresh ‡∏´‡∏ô‡πâ‡∏≤)
2. ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤ Dashboard (F5)
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Migration ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß

---

<div align="center">
‚úÖ **‡∏ß‡∏¥‡∏ò‡∏µ‡∏á‡πà‡∏≤‡∏¢: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå config ‚Üí Migration ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‚Üí ‡πÄ‡∏™‡∏£‡πá‡∏à!** üéâ

üöÄ **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤‡∏´‡∏ô‡πâ‡∏≤ Routes ‡πÉ‡∏ô Dashboard!**
</div>

